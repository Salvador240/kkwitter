{"ast":null,"code":"import { domain, jsonHeaders, handleJsonResponse } from \"./constants\";\nimport { push } from \"connected-react-router\"; // action types\n\nexport var LOGIN = \"LOGIN\";\nexport var LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport var LOGIN_FAIL = \"LOGIN_FAIL\";\nexport var REGISTER = \"REGISTER\";\nexport var REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport var REGISTER_FAIL = \"REGISTER_FAIL\";\nexport var LOGOUT = \"LOGOUT\";\nvar url = domain + \"/auth\"; // action creators\n\nvar login = function login(loginData) {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN\n    });\n    return fetch(url + \"/login\", {\n      method: \"POST\",\n      headers: jsonHeaders,\n      body: JSON.stringify(loginData)\n    }).then(handleJsonResponse).then(function (result) {\n      return dispatch({\n        type: LOGIN_SUCCESS,\n        payload: result\n      });\n    }).catch(function (err) {\n      return Promise.reject(dispatch({\n        type: LOGIN_FAIL,\n        payload: err.message\n      }));\n    });\n  };\n};\n\nvar register = function register(registerData) {\n  return function (dispatch) {\n    dispatch({\n      type: REGISTER\n    });\n    return fetch(url + \"/register\", {\n      method: \"POST\",\n      headers: jsonHeaders,\n      body: JSON.stringify(registerData)\n    }).then(handleJsonResponse).then(function (result) {\n      return dispatch({\n        type: REGISTER_SUCCESS,\n        payload: result\n      });\n    }).catch(function (err) {\n      return Promise.reject(dispatch({\n        type: REGISTER_FAIL,\n        payload: err.message\n      }));\n    });\n  };\n};\n\nexport var logout = function logout() {\n  return function (dispatch) {\n    dispatch({\n      type: LOGOUT\n    });\n    dispatch();\n  };\n};\nexport var loginThenGoToUserProfile = function loginThenGoToUserProfile(loginData) {\n  return function (dispatch) {\n    return dispatch(login(loginData)).then(function () {\n      return dispatch(push(\"/profile\"));\n    });\n  };\n};\nexport var registerThenGoToUserLogin = function registerThenGoToUserLogin(registerData) {\n  return function (dispatch) {\n    return dispatch(register(registerData)).then(function () {\n      return dispatch(push(\"/profile\"));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/Sdeg/Desktop/workspace/assessment---kwitter-frontend/src/actions/auth.js"],"names":["domain","jsonHeaders","handleJsonResponse","push","LOGIN","LOGIN_SUCCESS","LOGIN_FAIL","REGISTER","REGISTER_SUCCESS","REGISTER_FAIL","LOGOUT","url","login","loginData","dispatch","type","fetch","method","headers","body","JSON","stringify","then","result","payload","catch","err","Promise","reject","message","register","registerData","logout","loginThenGoToUserProfile","registerThenGoToUserLogin"],"mappings":"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","sourcesContent":["import { domain, jsonHeaders, handleJsonResponse } from \"./constants\";\nimport { push } from \"connected-react-router\";\n\n// action types\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\n\nexport const REGISTER = \"REGISTER\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\n\nexport const LOGOUT = \"LOGOUT\";\n\nconst url = domain + \"/auth\";\n\n// action creators\nconst login = loginData => dispatch => {\n  dispatch({\n    type: LOGIN\n  });\n\n  return fetch(url + \"/login\", {\n    method: \"POST\",\n    headers: jsonHeaders,\n    body: JSON.stringify(loginData)\n  })\n    .then(handleJsonResponse)\n    .then(result => {\n      return dispatch({\n        type: LOGIN_SUCCESS,\n        payload: result\n      });\n    })\n    .catch(err => {\n      return Promise.reject(\n        dispatch({ type: LOGIN_FAIL, payload: err.message })\n      );\n    });\n};\nconst register = registerData => dispatch => {\n  dispatch({\n    type: REGISTER\n  });\n\n  return fetch(url + \"/register\", {\n    method: \"POST\",\n    headers: jsonHeaders,\n    body: JSON.stringify(registerData)\n  })\n    .then(handleJsonResponse)\n    .then(result => {\n      return dispatch({\n        type: REGISTER_SUCCESS,\n        payload: result\n      });\n    })\n    .catch(err => {\n      return Promise.reject(\n        dispatch({ type: REGISTER_FAIL, payload: err.message })\n      );\n    });\n};\n\nexport const logout = () => dispatch => {\n  dispatch({type:LOGOUT})\n  dispatch()\n}\n\nexport const loginThenGoToUserProfile = loginData => dispatch => {\n  return dispatch(login(loginData)).then(() => dispatch(push(\"/profile\")));\n};\nexport const registerThenGoToUserLogin = registerData => dispatch => {\n  return dispatch(register(registerData)).then(() => dispatch(push(\"/profile\")));\n};\n"]},"metadata":{},"sourceType":"module"}